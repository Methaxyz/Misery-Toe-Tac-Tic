<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>home page</title>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-analytics.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-database.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" 
        integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.1/font/bootstrap-icons.css">
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-auth.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Mali:wght@300&display=swap" rel="stylesheet">
</head>
<body>
    <p id="title">Misery-Toe-Tac-Tic</p>
    <p id="feedback">Please sign in with your google account.</p>
    <p id="name"></p>
    <img id="profile" src="image/user-circle.png"></img><br>
    <div class="menu">
    <li><button type="button" id="btnLogout" class="bi bi-box-arrow-right logged-out"> Log Out</button></li>
    <li><button type="button" id="popupbtn" class="bi bi-question-circle-fill logged-out btnup"> How To Play</button></li>
    </div>
    <div class="popup">
        <div class="popcard">
          <h4>เกมนี้เราจะเป็นผู้ชนะก็ต่อเมื่อมีผู้เล่นอีกฝ่ายเขียนเครื่องหมายของตัวเองเรียงเป็นแนวตรงหรือแนวทแยงต่อกัน 3 อัน</h4>
          <p>Click anywhere to close the message</p>
        </div>
    </div>
    <div class="menu">
    <!-- <li><button type="button" id="signUpWithGoogle" class="bi bi-person-plus-fill logged-in" onclick="signUpWithGoogle()"> Sign Up</button></li> -->
    <li><button type="button" id="signInWithGoogle" class="bi bi-google logged-in"> Sign In</button></li>
    </div>
    <div class="gamemode">
    <ul>
    <li><button type="button" id="mode1" class="bi bi-people-fill logged-out"> <br>VS Player</button></li>
    <li><button type="button" id="mode2" class="bi bi-laptop logged-out"> <br>VS Computer</button></li>
    </ul>
    </div>
    <div class="joinroom">
        <ul>
        <li><button type="button" id="room1" class="setroom">Room 1</button></li>
        <li><button type="button" id="room2" class="setroom">Room 2</button></li>
        <!-- <li><button type="button" id="room2" class="setroom">Room 2</button></li> -->
        
        </ul>
    </div>
    <button type="button" id="back" class="bi bi-box-arrow-left"> Back</button><br>
    <p id="lobby"></p>
    <p id="status" class="status"></p>
    <div class="container logged-out"> 
        <form class="form-inline row">  
            <div id="px">
              <p id="score-o">(0)</p>
              <img id="profileX" src="image/user-circle.png"></img><br>
              <p id="left">Player X</p>
              <input readonly type="text" class="form-control" id="inputPlayer-x" placeholder="Player X"> 
              <button type="button" id="btnJoin-x" class="btn btn-primary btn-join">Join</button>
              <button type="button" id="btnCancel-x" class="btn btn-secondary btn-cancel-join-game">Cancel</button>
            </div>
            <div id="po">
              <p id="score-x">(0)</p>
              <img id="profileO" src="image/user-circle.png"></img><br>
              <p id="right">Player O</p>
              <input readonly type="text" class="form-control" id="inputPlayer-o" placeholder="Player O"> 
              <button type="button" id="btnJoin-o" class="btn btn-primary btn-join">Join</button>
              <button type="button" id="btnCancel-o" class="btn btn-secondary btn-cancel-join-game">Cancel</button>
            </div> 
        </form>
    </div>
    <div>
    <div class="text-center mb-2 mt-2" id="waiting-text"></div>
        <center><div class="container mb-2" id="grid3">
            <div class="row" id="row-1">
                <div class="col tab justify-content-center align-items-center table-col text-center" style="height: 120px;" id="row-1-col-1"><p class="display-4"></p></div>
                <div class="col tab justify-content-center align-items-center table-col text-center" style="height: 120px;" id="row-1-col-2"><p class="display-4"></p></div>
                <div class="col tab justify-content-center align-items-center table-col text-center" style="height: 120px;" id="row-1-col-3"><p class="display-4"></p></div>
            </div>
            <div class="row" id="row-2">
                <div class="col tab justify-content-center align-items-center table-col text-center" style="height: 120px;" id="row-2-col-1"><p class="display-4"></p></div>
                <div class="col tab justify-content-center align-items-center table-col text-center" style="height: 120px;" id="row-2-col-2"><p class="display-4"></p></div>
                <div class="col tab justify-content-center align-items-center table-col text-center" style="height: 120px;" id="row-2-col-3"><p class="display-4"></p></div>
            </div>
            <div class="row" id="row-3">
                <div class="col tab justify-content-center align-items-center table-col text-center" style="height: 120px;" id="row-3-col-1"><p class="display-4"></p></div>
                <div class="col tab justify-content-center align-items-center table-col text-center" style="height: 120px;" id="row-3-col-2"><p class="display-4"></p></div>
                <div class="col tab justify-content-center align-items-center table-col text-center" style="height: 120px;" id="row-3-col-3"><p class="display-4"></p></div>
            </div>
        </div></center>
    <center><div>
    <button button type="button" id="restart">RESTART</button>
    <button id="btnStartGame" class="btn btn-success mx-1">START GAME</button>
    <button button type="button" type="button" id="leave" class="bi bi-box-arrow-left"> Leave</button>
    </div></center>
</div>
<p id="lobby"></p>
<p id="status" class="status"></p>
<div class="container logged-out"> 
    <form class="form-inline row">  
        <div id="px2">
          <p id="score-o2">(0)</p>
          <img id="profileX2" src="image/user-circle.png"></img><br>
          <p id="left">Player X</p>
          <input readonly type="text" class="form-control" id="inputPlayer2-x" placeholder="Player X"> 
          <button type="button" id="r2btnJoin-x" class="btn btn-primary r2btn-join">Join</button>
          <button type="button" id="r2btnCancel-x" class="btn btn-secondary r2btn-cancel-join-game">Cancel</button>
        </div>
        <div id="po2">
          <p id="score-x2">(0)</p>
          <img id="profileO2" src="image/user-circle.png"></img><br>
          <p id="right">Player O</p>
          <input readonly type="text" class="form-control" id="inputPlayer2-o" placeholder="Player O"> 
          <button type="button" id="r2btnJoin-o" class="btn btn-primary r2btn-join">Join</button>
          <button type="button" id="r2btnCancel-o" class="btn btn-secondary r2btn-cancel-join-game">Cancel</button>
        </div> 
    </form>
</div>
<div>
<div class="text-center mb-2 mt-2" id="waiting-text2"></div>
    <center><div class="container mb-2" id="grid4">
        <div class="row" id="row-1">
            <div class="col tab2 justify-content-center align-items-center table-col text-center" style="height: 120px;" id="r2row-1-col-1"><p class="display-4"></p></div>
            <div class="col tab2 justify-content-center align-items-center table-col text-center" style="height: 120px;" id="r2row-1-col-2"><p class="display-4"></p></div>
            <div class="col tab2 justify-content-center align-items-center table-col text-center" style="height: 120px;" id="r2row-1-col-3"><p class="display-4"></p></div>
        </div>
        <div class="row" id="row-2">
            <div class="col tab2 justify-content-center align-items-center table-col text-center" style="height: 120px;" id="r2row-2-col-1"><p class="display-4"></p></div>
            <div class="col tab2 justify-content-center align-items-center table-col text-center" style="height: 120px;" id="r2row-2-col-2"><p class="display-4"></p></div>
            <div class="col tab2 justify-content-center align-items-center table-col text-center" style="height: 120px;" id="r2row-2-col-3"><p class="display-4"></p></div>
        </div>
        <div class="row" id="row-3">
            <div class="col tab2 justify-content-center align-items-center table-col text-center" style="height: 120px;" id="r2row-3-col-1"><p class="display-4"></p></div>
            <div class="col tab2 justify-content-center align-items-center table-col text-center" style="height: 120px;" id="r2row-3-col-2"><p class="display-4"></p></div>
            <div class="col tab2 justify-content-center align-items-center table-col text-center" style="height: 120px;" id="r2row-3-col-3"><p class="display-4"></p></div>
        </div>
    </div></center>
<center><div>
<button button type="button" id="restart2">RESTART</button>
<button id="btnStartGame2" class="btn btn-success mx-1">START GAME</button>
<button button type="button" type="button" id="leave2" class="bi bi-box-arrow-left"> Leave</button>
</div></center>
</div>
   
<div class="endgame">
    <div class="text" id="text">Click START GAME</div>
</div>
<table class="tableBot" id="tableBot">
  <tr>
      <td class="cell" id="0"></td>
      <td class="cell" id="1"></td>
      <td class="cell" id="2"></td>
  </tr>
  <tr>
      <td class="cell" id="3"></td>
      <td class="cell" id="4"></td>
      <td class="cell" id="5"></td>
  </tr>
  <tr>
      <td class="cell" id="6"></td>
      <td class="cell" id="7"></td>
      <td class="cell" id="8"></td>
  </tr>
</table>
<center><button onclick="startGame()" id="botRe">ReStart</button>
    <button onclick="backbot()" button type="button" type="button" id="leaveBot" class="bi bi-box-arrow-left"> Leave</button>
</center>

<script>
    // For Firebase JS SDK v7.20.0 and later, measurementId is optional
    const firebaseConfig = {
        apiKey: "AIzaSyDQGtZOVC_JQtWjfVzwO9qEmwOJ9INQpoI",
        authDomain: "misery-toe-tac-tic.firebaseapp.com",
        databaseURL: "https://misery-toe-tac-tic-default-rtdb.asia-southeast1.firebasedatabase.app",
        projectId: "misery-toe-tac-tic",
        storageBucket: "misery-toe-tac-tic.appspot.com",
        messagingSenderId: "524021173222",
        appId: "1:524021173222:web:3080ebdde0dee4b1252427",
        measurementId: "G-9JR1GMBJ7P"
        };
        firebase.initializeApp(firebaseConfig);
</script>
<script type="text/javascript" src="auth.js"></script>
<script type="text/javascript" src="game.js"></script>
<script type="text/javascript" src="gamebot.js"></script>
</body>
<style>
    body {
        margin: none;
        padding: 15px;
        background-color: #9c667a;
        font-family: 'Raleway', sans-serif;
        text-align: center;
    }
    #title{
        margin: 1%;
        font-family: "Permanent Marker", cursive;
        font-size: 50pt;
        color: #713c43;
    }
    button {
        background-color: #49074C;
        border: none;
        color: #FFEEDB;
        border: #49074C solid 3px;
        margin-top: 1vh;
        width: 185px;
        height: 70px;
        text-align: center;
        text-decoration: none;
        font-size: 16px;
        border-radius: 4px;
        position: relative;
        font-family: "Permanent Marker", cursive;
        font-size: 15pt;
        transition-duration: 0.4s;

    }
    .menu {
        flex-wrap: wrap;
        margin-top: 2vh;
        margin: none;
    }
    .menu li {
        width: 100%;
        display: flex;
        justify-content: center;
    }
    #feedback {
        margin-top: 5vh;
        color: #49074C;
        font-size: 30px;
        font-family: "Permanent Marker", cursive;
    }
    #profile {
        margin-top: 2vh;
        width: 120px;
        height: 120px;
        border-radius: 50%;
        border: none;
    }
    #profileX {
        width: 100px;
        height: 100px;
        border-radius: 50%;
        margin-bottom: 5px;
        
    }
    #profileO {
        width: 100px;
        height: 100px;
        border-radius: 50%;
        margin-bottom: 5px;
        
    }
    #profileX2 {
        width: 100px;
        height: 100px;
        border-radius: 50%;
        margin-bottom: 5px;
        
    }
    #profileO2 {
        width: 100px;
        height: 100px;
        border-radius: 50%;
        margin-bottom: 5px;
        
        
    }
    button:hover {
        background-color: #7d1083;
    }
    #name {
        font-size: 20pt;
        color: black;
        font-family: 'Mali', cursive;
    }
    #text {
        font-size: 50pt;
        color: white;
        font-family: "Permanent Marker", cursive;
        margin-top: 2vh;
    } 
    #mode1 {
        text-decoration: none;
    }
    .gamemode {
        display: flex;
        justify-content: center;
        width: 100%;
        justify-content: center;
    }
    .gamemode ul li {
        display: flex;
        padding: 30px;
        justify-content: center;
    }
    .gamemode ul {
        display: flex;
        justify-content: center;
        padding-left: 0;
        margin: none;
    }
    .gamemode ul li button {
        width: 380px;
        height: 300px;
        font-size: 35pt;
        background-color: rgb(62, 62, 175);
        border: rgb(22, 22, 75) solid 3px;
    }
    .gamemode ul li button:hover {
        background-color: rgb(86, 86, 168);
    }
    @media all and (max-width:800px) {
        .gamemode ul{
            display: flex;
            width: 100%;
        }
    }
    @media all and (max-width:1500px) {
        .gamemode ul{
            flex-wrap: wrap;
            width: 100%;
        }
    }
    @media all and (max-width: 480px) {
        #grid3 .tab {width: 80px;}
        #grid4 .tab2 {width: 80px;}
    }
    @media all and (max-width: 768px) {
        #grid3 .tab {width: 100px;}
        #grid4 .tab2 {width: 100px;}
    }
    @media all and (max-width: 1024px) {
        #grid3 .tab {width: 180px;}
        #grid4 .tab2 {width: 180px;}
    }
    .joinroom {
        display: flex;
        justify-content: center;
        width: 100%;
        justify-content: center;
        
    }
    .joinroom ul li {
        display: flex;
        padding: 30px;
        justify-content: center;
    }
    .joinroom ul {
        display: flex;
        justify-content: center;
        padding-left: 0;
        margin: none;
    }
    .joinroom ul li button {
        width: 230px;
        height: 150px;
        font-size: 25pt;
        background-color: rgb(62, 62, 175);
        border: rgb(22, 22, 75) solid 3px;
    }
    #back {
        display: none;
    }
    #leave {
        display: none;
        margin-top: 10vh;
    }
    #leave2 {
        display: none;
        margin-top: 10vh;
    }
    .setroom {
        display: none;
    }

    #waiting-text{
        margin-top: 1%;
        padding: 15px;
        font-family: "Permanent Marker", cursive;
        font-size: 30pt;
        display: none; 
        justify-content: center;
        position: relative;
    }
    #waiting-text2{
        margin-top: 1%;
        padding: 15px;
        font-family: "Permanent Marker", cursive;
        font-size: 30pt;
        display: none; 
        justify-content: center;
        position: relative;
    }
    table {
        font-family: "Permanent Marker", cursive;
        border-collapse: collapse;
        margin: 0 auto;
        margin-top: 2%;
        cursor: pointer;
        clear: both;
        position: relative;
  
    }
    #cell{
        font-size: 60pt;
    }

    td {
        width: 150px;
        height: 150px;
        font-size: 120px;
        text-align: center;
    }

    .bottom {
        border-bottom: 6px solid #49074C;
    }

    .right {
        border-right: 6px solid #49074C;
    }
    #restart {
        background-color: #49074C;
        border: none;
        color: #FFEEDB;
        padding: 15px 20px;
        text-align: center;
        text-decoration: none;
        display: inline-block;
        font-size: 15pt;
        border-radius: 4px;
        position: relative;
        top: 7vh;
        display: none;
    }
    #restart2 {
        background-color: #49074C;
        border: none;
        color: #FFEEDB;
        padding: 15px 20px;
        text-align: center;
        text-decoration: none;
        display: inline-block;
        font-size: 15pt;
        border-radius: 4px;
        position: relative;
        top: 7vh;
        display: none;
    }

    #restart:hover {
        background-color: #FFEEDB;
        color: #49074C;
    }
    #start:hover {
        background-color: #FFEEDB;
        color: #108a20;
    }
    #restart2:hover {
        background-color: #FFEEDB;
        color: #49074C;
    }
    #start2:hover {
        background-color: #FFEEDB;
        color: #108a20;
    }
    #grid3 {
        display: none; 
        justify-content: center;
    }
    #grid4 {
        display: none; 
        justify-content: center;
    }
    .gameroom1 {
        justify-content: center;
    }
    .gameroom2 {
        justify-content: center;
    }
    #po {
        width: 250px;
        position: absolute;
        right: 20px;
        top: 60%;
        display: none;
    }
    #px {
        width: 250px;
        position: absolute;
        left: 20px;
        top: 60%;
        display: none;
    }
    #po2 {
        width: 250px;
        position: absolute;
        right: 20px;
        top: 60%;
        display: none;
    }
    #px2 {
        width: 250px;
        position: absolute;
        left: 20px;
        top: 60%;
        display: none;
    }
    #inputPlayer-o {
        text-align: center;
        font-family: 'Mali', cursive;
    }
    #inputPlayer-x {
        text-align: center;
        font-family: 'Mali', cursive;
    }
    #inputPlayer2-o {
        text-align: center;
        font-family: 'Mali', cursive;
    }
    #inputPlayer2-x {
        text-align: center;
        font-family: 'Mali', cursive;
    }
    #lobby {
        font-size: 35pt;
        color: #49074C;
        font-family: "Permanent Marker", cursive;
        position: relative;
    }
    #left {
        font-size: 20pt;
        color: #ffffff;
        font-family: 'Mali', cursive;
    }
    #right {
        font-size: 20pt;
        color: #ffffff;
        font-family: 'Mali', cursive;
    }
    #btnStartGame{
        text-align: center;
        text-decoration: none;
        font-size: 15pt;
        border-radius: 4px;
        position: relative;
        top: 7vh;
        display: none;
    }
    #btnStartGame2{
        text-align: center;
        text-decoration: none;
        font-size: 15pt;
        border-radius: 4px;
        position: relative;
        top: 7vh;
        display: none;
    }
    .row{
        width: 600px;
    }
    .display-4{
        font-size: 30pt;
        margin-top: 30px;
        font-family: "Permanent Marker", cursive;
    }
    #score-x {
        font-size: 60pt;
        font-family: "Permanent Marker", cursive;
        display: none;
    }
    #score-o {
        font-size: 60pt;
        font-family: "Permanent Marker", cursive;
        display: none;
    }
    #score-x2 {
        font-size: 60pt;
        font-family: "Permanent Marker", cursive;
        display: none;
    }
    #score-o2 {
        font-size: 60pt;
        font-family: "Permanent Marker", cursive;
        display: none;
    }
    .tab {
        border: 6px solid black;
        margin: -3px;
    }
    .tab2 {
        border: 6px solid black;
        margin: -3px;
    }
    #botStatus{
        margin-top: 1%;
        font-family: "Permanent Marker", cursive;
        font-size: 25pt;
        display: none;
    }
    #tableBot {
        font-family: "Permanent Marker", cursive;
        border-collapse: collapse;
        margin: 0 auto;
        margin-top: 2%;
        cursor: pointer;
        clear: both;
        display: none;
        position: relative;
        justify-content: center;
  
    }
    .cell{
        font-size: 60pt;
        border: 6px solid #000000;
    }

    td {
        width: 150px;
        height: 150px;
        font-size: 120px;
    }
    #botRe {
        display: none;
    }
    #leaveBot {
        display: none;
    }
    #row-1 {
        width: 320px;
    }
    #row-2 {
        width: 320px;
    }
    #row-3 {
        width: 320px;
    }
    
    .button:active {
        transform: scale(0.9);
    }

    .popup {
        display: none;
        position: fixed;
        z-index: 1;
        top: 0;
        left: 0;
        height: 100%;
        width: 100%;
        overflow: auto;
        background-color: rgba(0,0,0,0.4);
    }

    .popcard {
        background-color: white;
        margin: 20% auto;
        padding: 40px;
        width: 45%;
        text-align: center;
        font-size: 1.2rem;
        box-shadow: 0 2px 15px 0 black;
        animation: popup 0.5s;
        font-family: "Permanent Marker", cursive;
    }
    h4 {
        font-family: 'Mali', cursive;
    }
    @keyframes popup {
        from {
            opacity: 0;
        }
        to { 
            opacity: 1;
        }
    }
</style>
</html>